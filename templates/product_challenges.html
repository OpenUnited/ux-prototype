{% extends 'product_base.html' %}

{% block title %}Product - Challenges{% endblock %}
{% block product_content %}
{% set CHALENGE_TYPES = ["Draft", "Blocked", "Active", "Claimed", "Done", "In Review"] %}
{% set TYPES_COLORS = ["bg-gray-50 text-gray-700 border-gray-700", "bg-yellow-50 text-yellow-700 border-yellow-700" ,
"bg-green-50
text-green-700 border-green-700",
"bg-blue-50
text-blue-700 border-blue-700", "bg-lime-50
text-lime-700 border-lime-700", "bg-amber-50 text-amber-700 border-abmer-700"] %}
{% set PRIORITY = ["High","Medium", "Low"] %}


<div class="relative sm:rounded-lg flex flex-col">
    <a class="mb-6 float-right w-max self-end" href="#">
        <button type="button"
            class="rounded-md bg-indigo-50 ml-2 px-3.5 py-2.5 text-sm font-semibold text-indigo-600 shadow-sm hover:bg-indigo-100">Create
            Challenge</button>
    </a>

    {% if challenges|length > 0 %}
    <ul role="list" class="grid-cols-1 grid sm:grid-cols-2 gap-x-6 gap-y-8 xl:gap-x-8">
        {% for challenge in challenges %}
        <li class="overflow-hidden rounded-xl border border-gray-200 flex flex-col">
            <div class="flex items-center gap-x-4 border-b border-gray-900/5 bg-gray-50 px-6 py-4">
                <div class="text-sm font-medium leading-6 text-gray-900">{{ challenge.title }}</div>
                <div class="relative ml-auto">
                    <button type="button" class="-m-2.5 block p-2.5 text-gray-400 hover:text-gray-500"
                        id="options-menu-0-button" aria-expanded="false" aria-haspopup="true">
                        <span class="sr-only">Open options</span>
                        <a href="#">
                            <img src="/static/assets/images/visit.png" alt="">
                        </a>
                    </button>
                </div>
            </div>
            <div class="divide-y divide-gray-100 px-6 text-sm leading-6 flex flex-col justify-between h-full">
                <div class="flex py-3 text-gray-500">
                    {{ challenge.short_description }}
                </div>
                <div class="flex justify-end gap-x-4 py-3">
                    <div class="flex items-start gap-2">
                        <span class="bg-gray-200 rounded-[16px] py-1 px-2 text-xs text-gray-700"> {{
                            PRIORITY[challenge.priority] }}</span>
                        <div
                            class="rounded-[16px] py-1 px-2 text-xs font-medium border {{ TYPES_COLORS[challenge.status] }}">
                            {{ CHALENGE_TYPES[challenge.status] }}
                        </div>

                    </div>
                </div>
            </div>
        </li>
        {% endfor %}


    </ul>
    {% else %}

    <p>This product has no active challenges</p>

    {% endif %}
</div>

{% endblock %}